<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title>CanvasWorker</title>
	<style>
		body {
			padding-left: auto;
			padding-right: auto;
		}

		#catchphrase {
			position: absolute;
			padding: 10px;
			top: 50px;
			left: 50px;
			margin-left: auto;
			margin-right: auto;
			background-color: rgba(255,255,255,.9);
			box-shadow:0px 0px 25px #FFFFFF;
		}
	</style>
</head>
<body>

<div id="ui" style="height: 800px"></div>

<div id="catchphrase">
	<h2>CanvasWorker</h2>
	<blockquote>
        Render a ridiculous amount of images in web workers<br>
        <span id="msg">(You are in a demo right now...)</span>
    </blockquote>
</div>

<a href="https://github.com/robertleeplummerjr/CanvasWorker"><img style="position: fixed; top: 0; right: 0; border: 0;" src="fork-me.png" alt="Fork me on GitHub"></a>
</body>
<script src="bower_components/operative/dist/operative.js"></script>
<script src="canvasworker.js"></script>
<script>
	var ui = document.getElementById('ui'),
        msg = document.getElementById('msg'),
        start = new Date(),
        end,
        compose = [],
		max = 15000,
		i = 0,
		cw;

	for (;i < max;i++) {
		compose.push({
			image: 0,
			x: Math.random() * ui.clientWidth,
			y: Math.random() * ui.clientHeight
		});
	}

	cw = new CanvasWorker(['marker-icon.png'], {
		element: ui,
		compose: compose,
		drawFinished: function(allFinished) {
			if (allFinished) {
                end = new Date();
                msg.innerHTML = '(You are in a demo right now...  15,000 map points loaded in ' + ((end - start) / 1000) + ' seconds)';
            }
		}
	});
</script>
</html>
